{"version":3,"sources":["../node_modules/@directus/mixins/interface.js","display.vue"],"names":[],"mappings":";AAAA,OAAA,QAAA,CACA,MAAA,CACA,KAAA,CACA,KAAA,OACA,UAAA,GAEA,MAAA,CACA,KAAA,KACA,QAAA,MAEA,KAAA,CACA,KAAA,OACA,UAAA,GAEA,OAAA,CACA,KAAA,CAAA,OAAA,QACA,QAAA,MAEA,SAAA,CACA,KAAA,QACA,SAAA,GAEA,SAAA,CACA,KAAA,QACA,SAAA,GAEA,QAAA,CACA,KAAA,OACA,QAAA,KAAA,KAEA,QAAA,CACA,KAAA,QACA,SAAA,GAEA,SAAA,CACA,KAAA,OACA,QAAA,MAEA,OAAA,CACA,KAAA,OACA,QAAA,MAEA,OAAA,CACA,KAAA,OACA,QAAA;;ACdA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAFA,IAAA,EAAA,EAAA,QAAA,+BAEA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,IAAA,EAAA,CACA,OAAA,CAAA,EAAA,SACA,KAAA,WACA,MAAA,CACA,YAAA,GACA,gBAAA,GACA,YAAA,OACA,OAAA,OACA,cAAA,QACA,SAAA,gBACA,UAAA,IAGA,QAAA,CACA,UAAA,SAAA,GACA,KAAA,UAAA,KAAA,WAGA,SAAA,CACA,aAAA,WACA,IAAA,EAAA,KACA,EAAA,KAAA,MAuCA,OArCA,KAAA,KAAA,MACA,IACA,wCACA,EACA,sBAEA,KAAA,SAAA,GACA,EAAA,YACA,EAAA,KAAA,MAAA,YACA,KACA,EAAA,KAAA,MAAA,gBACA,IACA,EAAA,YAAA,EAAA,KAAA,MAAA,YAAA,QAAA,GAEA,EAAA,KAAA,MAAA,OAAA,GACA,EAAA,SAAA,cACA,EAAA,OAAA,IAAA,EAAA,QAAA,MAAA,EAAA,KAAA,MAAA,OAAA,GACA,EAAA,cACA,IACA,EAAA,QAAA,MAAA,IAAA,EAAA,KAAA,MAAA,cAAA,GACA,MAEA,EAAA,SAAA,gBACA,EAAA,OAAA,EAAA,QAAA,MAAA,EAAA,KAAA,MAAA,OAAA,GACA,EAAA,cACA,EAAA,QAAA,MAAA,IAAA,EAAA,KAAA,MAAA,cAAA,GACA,OAGA,MAAA,SAAA,GACA,EAAA,YAAA,OACA,EAAA,OAAA,OACA,EAAA,cAAA,QACA,EAAA,SAAA,gBACA,QAAA,MAAA,SAAA,KAGA,KA5DA,QAAA,QAAA","file":"display.map","sourceRoot":"../src","sourcesContent":["module.exports = {\n  props: {\n    name: {\n      type: String,\n      required: true\n    },\n    value: {\n      type: null,\n      default: null\n    },\n    type: {\n      type: String,\n      required: true\n    },\n    length: {\n      type: [String, Number],\n      default: null\n    },\n    readonly: {\n      type: Boolean,\n      default: false\n    },\n    required: {\n      type: Boolean,\n      default: false\n    },\n    options: {\n      type: Object,\n      default: () => ({})\n    },\n    newItem: {\n      type: Boolean,\n      default: false\n    },\n    relation: {\n      type: Object,\n      default: null\n    },\n    fields: {\n      type: Object,\n      default: null\n    },\n    values: {\n      type: Object,\n      default: null\n    }\n  }\n};\n","<template>\n  <div\n    v-if=\"value\"\n    :class=\"[\n      change < 0 ? 'down' : 'up',\n      change == 0 ? '' : 'colorize',\n      'quote'\n    ]\"\n  >\n    <div class=\"stock-container\" :title=\"companyName\">\n      <span class=\"symbol\">{{ displayValue }}:</span\n      ><span class=\"latest\">{{ latestPrice }}</span\n      ><span class=\"currency\">USD</span>\n    </div>\n    <div\n      class=\"change-container\"\n      @click.prevent=\"swapUnits()\"\n      :title=\"$t('interfaces-stock-swap_units')\"\n    >\n      <span v-if=\"showUnit\" class=\"change units\">{{ change }}</span\n      ><span v-else class=\"change percent\">{{ changePercent }}</span>\n      <i class=\"material-icons trending\">{{ trending }}</i>\n    </div>\n  </div>\n  <div v-else class=\"empty\">--</div>\n</template>\n\n<script>\nimport mixin from \"@directus/mixins/interface\";\n\nexport default {\n  mixins: [mixin],\n  data() {\n    return {\n      companyName: \"\",\n      primaryExchange: \"\",\n      latestPrice: \"0.00\",\n      change: \"0.00\",\n      changePercent: \"0.00%\",\n      trending: \"trending_flat\",\n      showUnit: true\n    };\n  },\n  methods: {\n    swapUnits(event) {\n      this.showUnit = this.showUnit ? false : true;\n    }\n  },\n  computed: {\n    displayValue() {\n      let vm = this;\n      let symbol = this.value;\n\n      this.$api.axios\n        .get(\n          \"https://api.iextrading.com/1.0/stock/\" +\n            symbol +\n            \"/batch?types=quote\"\n        )\n        .then(function(response) {\n          vm.companyName =\n            response.data.quote.companyName +\n            \" (\" +\n            response.data.quote.primaryExchange +\n            \")\";\n          vm.latestPrice = response.data.quote.latestPrice.toFixed(2);\n\n          if (response.data.quote.change > 0) {\n            vm.trending = \"trending_up\";\n            vm.change = \"+\" + vm.$lodash.round(response.data.quote.change, 2);\n            vm.changePercent =\n              \"+\" +\n              vm.$lodash.round(response.data.quote.changePercent * 100, 2) +\n              \"%\";\n          } else {\n            vm.trending = \"trending_down\";\n            vm.change = vm.$lodash.round(response.data.quote.change, 2);\n            vm.changePercent =\n              vm.$lodash.round(response.data.quote.changePercent * 100, 2) +\n              \"%\";\n          }\n        })\n        .catch(function(error) {\n          vm.latestPrice = \"0.00\";\n          vm.change = \"0.00\";\n          vm.changePercent = \"0.00%\";\n          vm.trending = \"trending_flat\";\n          console.error(\"Error:\", error);\n        });\n\n      return symbol;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.quote {\n  display: inline-block;\n  &.up.colorize .change-container {\n    background-color: var(--green);\n  }\n  &.down.colorize .change-container {\n    background-color: var(--red);\n  }\n  &.colorize .stock-container .latest {\n    color: var(--darkest-gray);\n  }\n  .stock-container {\n    display: inline-block;\n    cursor: help;\n\n    span {\n      display: inline-block;\n      vertical-align: middle;\n      &:not(:last-of-type) {\n        margin-right: 4px;\n      }\n    }\n\n    .symbol {\n      display: inline-block;\n      font-weight: 400;\n      font-size: 18px;\n      text-transform: uppercase;\n      color: var(--lighter-gray);\n    }\n    .latest {\n      color: var(--lighter-gray);\n      font-weight: 400;\n      font-size: 18px;\n      margin-left: 1px;\n    }\n    .currency {\n      color: var(--lighter-gray);\n      font-weight: 600;\n      font-size: 10px;\n      line-height: 28px;\n      margin-left: 1px;\n    }\n  }\n  .change-container {\n    position: relative;\n    display: inline-block;\n    background-color: var(--lighter-gray);\n    border-radius: var(--border-radius);\n    padding: 0px 6px;\n    color: var(--white);\n    margin-left: 10px;\n    cursor: pointer;\n    &:hover {\n      opacity: 0.8;\n    }\n    .change {\n      display: inline-block;\n      vertical-align: middle;\n    }\n  }\n}\n</style>\n"]}